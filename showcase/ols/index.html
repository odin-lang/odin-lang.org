<!doctype html><html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.svg><meta name=color-scheme content="only dark"><meta property="og:title" content="Ols"><meta property="og:description" content="Ols is a language server for Odin, and works on all the popular text editors. "><meta property="og:type" content="article"><meta property="og:url" content="https://odin-lang.org/showcase/ols/"><meta property="og:image" content="https://odin-lang.org/images/logo-slim.png"><meta property="article:published_time" content="2023-07-02T00:00:00+00:00"><meta property="article:modified_time" content="2023-07-02T00:00:00+00:00"><link rel=stylesheet href=https://odin-lang.org/scss/custom.min.css><link rel=stylesheet href=/lib/highlight/styles/github-dark.min.css><script src=/lib/highlight/highlight.min.js></script><script src=/lib/highlight/languages/x86asm.min.js></script><script>hljs.registerLanguage("odin",function(e){return{aliases:["odin","odinlang","odin-lang"],keywords:{keyword:"auto_cast bit_field bit_set break case cast context continue defer distinct do dynamic else enum fallthrough for foreign if import in map matrix not_in or_else or_return package proc return struct switch transmute type_of typeid union using when where",literal:"true false nil",built_in:"abs align_of cap clamp complex conj expand_to_tuple imag jmag kmag len max min offset_of quaternion real size_of soa_unzip soa_zip swizzle type_info_of type_of typeid_of"},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,{begin:"'",end:"[^\\\\]'"},{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[ijk]",relevance:1},e.C_NUMBER_MODE]}]}})</script><script>hljs.highlightAll()</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-67516878-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-67516878-2")</script><link href=/css/style.css rel=stylesheet><title>Ols | Odin Programming Language </title><link rel=alternate type=application/rss+xml href=https://odin-lang.org//categories/newsletter/index.xml title="Odin Newsletter"><body data-bs-spy=scroll data-bs-target=#TOC data-bs-offset=0 tabindex=0><script>window.localStorage.getItem("theme")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(window.localStorage.setItem("theme","dark"),document.body.classList.add("dark-mode")),window.localStorage.getItem("theme")==="dark"&&document.body.classList.add("dark-mode");function toggleDarkMode(){document.body.classList.toggle("dark-mode")?window.localStorage.setItem("theme","dark"):window.localStorage.setItem("theme","light")}</script><header class=sticky-top><nav class="navbar navbar-expand-lg navbar-dark bg-primary odin-menu"><div class=container-xxl><a class=navbar-brand href=/><img src=/logo.svg height=30 alt=Odin id=navbar-logo>
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#odin-navbar-content aria-controls=odin-navbar-content aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=odin-navbar-content><ul class="navbar-nav ms-md-auto"><li class=nav-item><a class=nav-link href=/>Home</a></li><li class=nav-item><a class=nav-link href=/docs>Docs</a></li><li class=nav-item><a class=nav-link href=https://pkg.odin-lang.org/>Packages</a></li><li class=nav-item><a class=nav-link href=/news>News</a></li><li class=nav-item><a class="nav-link active" href=/showcase aria-current=page>Showcase</a></li><li class=nav-item><a class=nav-link href=https://forum.odin-lang.org>Forum</a></li><li class=nav-item><a class=nav-link href=/community>Community</a></li><li class=nav-item><a class=nav-link href=https://github.com/odin-lang/Odin target=_blank>GitHub</a></li><li class=nav-item><a class="nav-link btn-dark-mode" onclick=toggleDarkMode() title="Toggle Light/Dark Mode"><span class=dark-mode-appearance>Appearance:</span><svg fill="#fff" id="dark-mode-icon" viewBox="0 0 384 512"><path d="M223.5 32C1e2 32 0 132.3.0 256S1e2 480 223.5 480c60.6.0 115.5-24.2 155.8-63.4 5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6-96.9.0-175.5-78.8-175.5-176 0-65.8 36-123.1 89.3-153.3 6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"/></svg><svg fill="#fff" id="light-mode-icon" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8M8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0m0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13m8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5M3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8m10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0m-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0m9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707M4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708"/></svg></button></a></li></ul></div></div></nav></header><main><div class=container-xxl><div class="row odin-main"><nav class="col-lg-2 odin-sidebar-border navbar-light"><div class="sticky-top odin-below-navbar py-3"><ul class="nav nav-pills d-flex flex-column"><li class=nav-item><a class="nav-link active" href=/showcase/ols/ aria-current=page>Ols</a></li><li class=nav-item><a class=nav-link href=/showcase/embergen/>EmberGen</a></li><li class=nav-item><a class=nav-link href=/showcase/understanding_the_odin_programming_language/>Understanding the Odin Programming Language</a></li><li class=nav-item><a class=nav-link href=/showcase/solar_storm/>Solar Storm</a></li><li class=nav-item><a class=nav-link href=/showcase/cat_and_onion/>CAT & ONION</a></li><li class=nav-item><a class=nav-link href=/showcase/spall/>Spall</a></li><li class=nav-item><a class=nav-link href=/showcase/todool/>Todool</a></li></ul></div></nav><article class="col-lg-8 p-4"><header><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/showcase>Showcase</a></li><li class=breadcrumb-item><a href=/showcase/ols>Ols</a></li></ol><h1>Ols</h1></header><div class=odin-article><p><a href=https://github.com/DanielGavin/ols>Ols</a> is a language server for Odin, and works on all the popular text editors.</p><div class="d-flex justify-content-center mt-2 p-2"><img src=https://raw.githubusercontent.com/DanielGavin/ols/master/images/completion.png width=100%></div><h2 id=why-would-you-want-to-use-ols>Why would you want to use ols? <a class=text-decoration-none href=#why-would-you-want-to-use-ols>#</a></h2><p>You might be thinking, &ldquo;Odin is already such a simple language that any tooling is unnecessary&rdquo;, but the ability to lookup procedures in a package or goto procedure definitions will radically speed up your coding and understanding of a codebase.</p><div class=clearfix></div><h2 id=implementation>Implementation <a class=text-decoration-none href=#implementation>#</a></h2><p>I implemented <code>ols</code> on the idea that the most important thing is fast completion and gotos - everything else is just extra goodness. This means all the extra features cannot affect the performance of completion and goto negatively, or if they do affect it, you have the ability to turn of those features, such as semantic tokens, which have to resolve all the symbols of the current document.</p><p><code>ols</code> consists of the indexer part, which goes through all the packages and stores all relevant ast nodes in a standard map. Every package has its own map index. This is one of the beauties of Odin, that the package system is so well defined and well contained. You rarely have to guess which package the struct, enums, and constants come from, since they have to be explicitly specified. The only exception is <code>using</code> in procedures, where I can&rsquo;t be certain, and I have to go through all the <code>usings</code> and the current package indexes.</p><p>When you are looking at the current document, the indexer is not used, but the actual document ast.</p><p>The normal use case is you need to resolve some variable symbol in your document. You start looking at the symbol, jump back to where it&rsquo;s defined, you then look at the type it has, is it defined in the current package or is it from another package? If it&rsquo;s in another package, you look at the package index and retrieve the ast node of that. If it&rsquo;s in the current package of the document, you look in the document ast first, and afterwards in the package index. This basically keeps happening until it finds the final concrete type. This means on completion, the only symbols that gets resolved is the ones relevant to the completion.</p><h2 id=communication>Communication <a class=text-decoration-none href=#communication>#</a></h2><p>All request between the client and the server is done through <code>stdout</code> and <code>stdin</code> with the <code>JSON-RPC</code> protocol.</p><h2 id=memory-handling>Memory handling <a class=text-decoration-none href=#memory-handling>#</a></h2><p>Every opened document has its own allocator with a fixed size, and relies on the heap allocator if the arena gets full. The temporary allocator is used in handling request from the client, and the allocator gets cleared per request. The indexer uses the heap allocator.</p><p>There are still things to consider for the future:</p><ul><li>Should all the packages used be kept in memory at all times?</li><li>Should there be different sized arena for the documents?</li></ul><h2 id=features>Features <a class=text-decoration-none href=#features>#</a></h2><p>Here you can see some of the main features of <code>ols</code>:</p><h3 id=completion>Completion <a class=text-decoration-none href=#completion>#</a></h3><img src=https://raw.githubusercontent.com/DanielGavin/ols/master/images/showcase/completion.gif width=100%><div class=clearfix></div><h3 id=hover>Hover <a class=text-decoration-none href=#hover>#</a></h3><img src=https://raw.githubusercontent.com/DanielGavin/ols/master/images/showcase/hover.gif width=100%><div class=clearfix></div><h3 id=go-to-definition>Go to definition <a class=text-decoration-none href=#go-to-definition>#</a></h3><img src=https://raw.githubusercontent.com/DanielGavin/ols/master/images/showcase/goto.gif width=100%><div class=clearfix></div><h3 id=fake-method-completion>Fake method completion <a class=text-decoration-none href=#fake-method-completion>#</a></h3><img src=https://raw.githubusercontent.com/DanielGavin/ols/master/images/showcase/fake_methods.png width=100%><div class=clearfix></div></div></article><div id=TOC class="col-lg-2 odin-toc-border"><div class="sticky-top odin-below-navbar py-3"><nav id=TableOfContents><ul><li><a href=#why-would-you-want-to-use-ols>Why would you want to use ols?</a></li><li><a href=#implementation>Implementation</a></li><li><a href=#communication>Communication</a></li><li><a href=#memory-handling>Memory handling</a></li><li><a href=#features>Features</a><ul><li><a href=#completion>Completion</a></li><li><a href=#hover>Hover</a></li><li><a href=#go-to-definition>Go to definition</a></li><li><a href=#fake-method-completion>Fake method completion</a></li></ul></li></ul></nav></div></div></div></div></main><footer class=odin-footer><div class="container pb-5 pt-5"><div class="row g-4"><div class=col><a class=navbar-brand href=/><img class=mb-3 src=/logo.svg height=30 alt=Odin></a><p>The Data-Oriented Language for Sane Software Development.</p></div><nav class=col-md-auto><h4 class=fw-normal>Resources</h4><ul class=list-unstyled><li><a href=/docs class=link-light>Docs</a></li><li><a href=https://pkg.odin-lang.org/ class=link-light>Packages</a></li><li><a href=/news class=link-light>News</a></li></ul></nav><nav class=col-md-auto><h4 class=fw-normal>Community</h4><ul class=list-unstyled><li><a href=https://github.com/odin-lang/Odin target=_blank class=link-light>GitHub</a></li><li><a href=https://discord.gg/vafXTdubwr target=_blank class=link-light>Discord</a></li><li><a href=https://www.twitch.tv/ginger_bill target=_blank class=link-light>Twitch</a></li><li><a href=https://www.youtube.com/channel/UCUSck1dOH7VKmG4lRW7tZXg target=_blank class=link-light>YouTube</a></li><li><a href=/showcase target=_blank class=link-light>Showcase</a></li></ul></nav><nav class=col-md-auto><h4 class=fw-normal>Contribute</h4><ul class=list-unstyled><li><a href=https://github.com/odin-lang/Odin/issues target=_blank class=link-light>Issues</a></li><li><a href=https://www.patreon.com/gingerbill target=_blank class=link-light>Donate</a></li></ul></nav></div><div class="mt-4 text-muted">© 2016–2024 Ginger Bill</div></div></footer><script src=/lib/bootstrap/js/bootstrap.min.js></script><script src=/js/script.js></script></body></html>