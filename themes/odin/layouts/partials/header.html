<header class="sticky-top">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary odin-menu">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img src="/logo.svg" height="30" alt="Odin"
            /></a>

            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#odin-navbar-content"
                aria-controls="odin-navbar-content"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="odin-navbar-content">
                <ul class="navbar-nav ms-md-auto">
                    {{ $currentPage := . }}
                    {{ range .Site.Menus.main }}
                    <li class="nav-item">
                        <!-- NOTE(Wojciech): This is not the way they tell you to do this in the docs but the way in the docs is broken.
                        Presumably we can change this when they fix it (haven't for 3 years). -->
                        {{ $active := or (eq $currentPage.RelPermalink .URL) (and (in $currentPage.RelPermalink .URL) (ne .URL "/")) }}
                        <a
                            class="nav-link{{if $active}} active{{end}}"
                            href="{{.URL}}"
                            {{if $active}}aria-current="page"{{end}}
                            {{if in .URL "github.com"}}target="_blank"{{end}}
                            >{{.Name}}</a
                        >
                    </li>
                    {{ end }}
                </ul>
            </div>
        </div>
    </nav>
</header>